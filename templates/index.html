{% extends "layout.html" %}
{% block head %}
  {{ super() }}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/portfolio_one.css') }}">
  <!-- <link rel="stylesheet" href="{{ url_for('static', filename='module/layui/css/layui.css') }}"  media="all"> -->
  <!-- we only want the thunbnails to display when javascript is disabled -->
  <script type="text/javascript">
    document.write('<style>.noscript { display: none; }</style>');
  </script>

  <style type="text/css">
    /** 图标字体 **/
    @font-face {font-family: 'layui-icon';
      src: url('static/module/layui/font/iconfont.eot?v=226_rc2');
      src: url('static/module/layui/font/iconfont.eot?v=226_rc2#iefix') format('embedded-opentype'),
      url('static/module/layui/font/iconfont.svg?v=226_rc2#iconfont') format('svg'),
      url('static/module/layui/font/iconfont.woff?v=226_rc2') format('woff'),
      url('static/module/layui/font/iconfont.ttf?v=226_rc2') format('truetype');
    }
                        
    .layui-icon{
      font-family:"layui-icon" !important;
      font-size: 16px;
      font-style: normal;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /** 文件上传 **/
    .layui-upload-file{display: none!important; opacity: .01; filter: Alpha(opacity=1);}
    .layui-upload-list{margin: 10px 0;}
    .layui-upload-choose{padding: 0 10px; color: #999;}
    .layui-upload-drag{position: relative; display: inline-block; padding: 30px; border: 1px dashed #e2e2e2; background-color: #fff; text-align: center; cursor: pointer; color: #999;}
    .layui-upload-drag .layui-icon{font-size: 50px; color: #009688;}
    .layui-upload-drag[lay-over]{border-color: #009688}
    .layui-upload-form{display: inline-block;}
    .layui-upload-iframe{position: absolute; width: 0; height: 0; border: 0; visibility: hidden}
    .layui-upload-wrap{position: relative; display: inline-block; vertical-align: middle;}
    .layui-upload-wrap .layui-upload-file{display: block!important; position: absolute; left: 0; top: 0; z-index: 10; font-size: 100px; width: 100%; height: 100%; opacity: .01; filter: Alpha(opacity=1); cursor: pointer;}
  </style>
{% endblock %}
{% block content %}
<!-- begin content -->
<div id="site_content">
  <!-- start gallery HTML containers -->
  <div id="gallery" class="content">
    <div id="caption" class="caption-container"></div>
    <div class="slideshow-container">
      <div id="loading" class="loader"></div>
      <div id="slideshow" class="slideshow"></div>
    </div>
  </div>
  <div id="thumb-container">
    <div id="thumbs" class="navigation">
      <h1>Example description generated by CapAI</h1>
      <ul class="thumbs noscript">
        {% for img in imgs %}
          <li>
            <a class="thumb" href="{{ img.thumb }}"><img width="120" height="120" src="{{ img.img }}" /></a>
            <div class="caption">
              <div class="image-title portfolio_one">&quot;{{ img.caption }}&quot;</div>
            </div>
          </li>
        {% endfor %}       
      </ul>
                <div class="layui-upload-drag" id="test10" style="width:62px;height:62px;margin-top: 5px">
  <i class="layui-icon"></i>
  <p>上传图片</p>
</div>
    </div>


    <div id="controls" class="controls portfolio_one"></div>
    <div style="clear: both;"></div>
    <!-- end gallery HTML containers -->
  </div>
</div>
<!-- end content -->

  <!-- javascript at the bottom for fast page loading -->
  <script type="text/javascript" src="static/js/jquery.min.js"></script>
  <script type="text/javascript" src="static/js/jquery.easing-sooper.js"></script>
  <script type="text/javascript" src="static/js/jquery.sooperfish.js"></script>
  <script src="{{ url_for('static', filename='module/layui/layui.js') }}" charset="utf-8"></script>
  <script>
  layui.use('upload', function(){
    var $ = layui.jquery
    ,upload = layui.upload;
    
    
    //拖拽上传
    upload.render({
      elem: '#test10'
      ,before: function(obj){
        layer.load();
      }
      ,url: '/upload/'
      ,done: function(res){
        window.location.href=res.url
      }
    });
    
  });
  </script>

  <!-- initialise sooperfish menu -->
  <script type="text/javascript">
    $(document).ready(function() {
      $('ul.sf-menu').sooperfish();
    });
  </script>
  <script type="text/javascript" src="static/js/jquery.galleriffic.js"></script>
  <script type="text/javascript" src="static/js/jquery.opacityrollover.js"></script>
  <script type="text/javascript">
    jQuery(document).ready(function($) {
      // we only want these styles applied when javascript is enabled
      $('div.navigation').css({'width' : '450px', 'float' : 'left'});
      $('div.content').css('display', 'block');
      // initially set opacity on thumbs and add additional styling for hover effect on thumbs
      var onMouseOutOpacity = 0.67;
      $('#thumbs ul.thumbs li').opacityrollover({
        mouseOutOpacity:   onMouseOutOpacity,
        mouseOverOpacity:  1.0,
        fadeSpeed:         'fast',
        exemptionSelector: '.selected'
      });
      // initialize advanced galleriffic gallery
      var gallery = $('#thumbs').galleriffic({
        delay:                     1000,
        numThumbs:                 10,
        preloadAhead:              10,
        enableTopPager:            false,
        enableBottomPager:         true,
        maxPagesToShow:            7,
        imageContainerSel:         '#slideshow',
        controlsContainerSel:      '#controls',
        captionContainerSel:       '#caption',
        loadingContainerSel:       '#loading',
        renderSSControls:          true,
        renderNavControls:         true,
        playLinkText:              'Play Slideshow',
        pauseLinkText:             'Pause Slideshow',
        prevLinkText:              '&lsaquo; Previous Picture',
        nextLinkText:              'Next Picture &rsaquo;',
        nextPageLinkText:          'Next &rsaquo;',
        prevPageLinkText:          '&lsaquo; Prev',
        enableHistory:             false,
        autoStart:                 false,
        syncTransitions:           true,
        defaultTransitionDuration: 900,
        onSlideChange:             function(prevIndex, nextIndex) {
          // 'this' refers to the gallery, which is an extension of $('#thumbs')
          this.find('ul.thumbs').children()
            .eq(prevIndex).fadeTo('fast', onMouseOutOpacity).end()
            .eq(nextIndex).fadeTo('fast', 1.0);
        }
      });
    });
  </script>
{% endblock %}